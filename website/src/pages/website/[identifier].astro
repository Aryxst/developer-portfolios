---
import { getCollection } from 'astro:content';
import { Image } from 'astro:assets';
import Layout from '@/layouts/Layout.astro';
import { normalizeName } from '@root/shared/lib';

export async function getStaticPaths() {
 const developers = await getCollection('developers');
 return developers.map(developer => ({ params: { identifier: normalizeName(developer.data.name) }, props: { developer } }));
}
const { developer } = Astro.props;
---

<Layout title={`Developer Portfolios | ${developer.data.name}}`}>
 <main class='flex min-h-screen w-screen flex-auto flex-col md:flex-row'>
  <section class='w-1/2'>
   <Image src={developer.data.screenshot} alt={`${developer.data.name}'s website screenshot'`} width={developer.data.screenshot.width} quality={80} decoding='async' loading='lazy' format='webp' class='w-3/4 border-2 border-black drop-shadow-xl' quality={80} decoding='async' loading='eager' format='webp' transition:name='screenshot' />
  </section>
  <section class='w-1/2'>
   <a href={developer.data.url}>Visit Website</a>
  </section>
 </main>
</Layout>
